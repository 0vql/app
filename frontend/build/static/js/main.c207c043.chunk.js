(this["webpackJsonpaccord-frontend"]=this["webpackJsonpaccord-frontend"]||[]).push([[0],{175:function(e,t,n){},187:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){},217:function(e,t,n){},228:function(e,t,n){},540:function(e,t,n){},558:function(e,t,n){},559:function(e,t,n){"use strict";n.r(t);var c,a=n(1),s=n.n(a),i=n(29),r=n.n(i),l=n(15),o=n(20),d=n(4),u=n(8),b=n(0),j=function(e){return Object(b.jsx)("button",Object(u.a)(Object(u.a)({},e),{},{className:"rounded-full ring ring-gray-400 secondary px-4 py-1 ".concat(e.className),children:e.children}))},f=function(){var e=Object(d.c)((function(e){return e.auth.user}));return Object(b.jsxs)("nav",{className:"flex items-center justify-between h-15 p-4 px-8",children:[Object(b.jsxs)("a",{className:"logo",children:[Object(b.jsx)("span",{className:"font-bold text-white",children:"accord"}),Object(b.jsx)("span",{className:"text-gray-600",children:"."}),Object(b.jsx)("span",{className:"muted font-light",children:"app"})]}),Object(b.jsx)("div",{children:Object(b.jsx)(l.b,{to:e?"/channels/@me":"/login",children:Object(b.jsx)(j,{children:e?"App":"Login"})})})]})},m=n(14),h=n(79),O=Object(m.c)({name:"ui",initialState:{},reducers:{startedEditingMessage:function(e,t){var n=t.payload;e.editingMessageId=n},stoppedEditingMessage:function(e){delete e.editingMessageId},focusedInvite:function(e,t){var n=t.payload;e.activeInvite=n},focusedUser:function(e,t){var n=t.payload;e.activeUser=n},pageSwitched:function(e,t){var n=t.payload;e.activeChannel=n.channel,e.activeGuild=n.guild},openedModal:function(e,t){var n=t.payload;e.openModal=n},closedModal:function(e){delete e.openModal},toggleDropdown:function(e,t){var n=t.payload;e.openDropdown=null===n||void 0===n?void 0:n.name},toggleSaveChanges:function(e,t){var n=t.payload;e.saveChangesOpen=n},openedDialog:function(e,t){var n=t.payload;e.openDialog=n},closedDialog:function(e){delete e.openDialog}}}),v=O.actions,x=O.reducer,g=function(e){return function(t,n){n().ui.saveChangesOpen!==e&&t(v.toggleSaveChanges(e))}},p=function(e){return function(t){t(v.closedDialog()),t(v.openedDialog(e))}},N=function(e){e(v.closedModal()),e(g(!1)),e(v.focusedUser(null))},y=n(26),E=n(18),w={restCallBegan:Object(m.b)("api/restCallBegan"),restCallSucceded:Object(m.b)("api/restCallSucceeded"),restCallFailed:Object(m.b)("api/restCallFailed"),wsCallBegan:Object(m.b)("api/wsCallBegan"),wsCallSucceded:Object(m.b)("api/wsCallSucceeded"),wsCallFailed:Object(m.b)("api/wsCallFailed")},I=function(e){return function(t){return!e.some((function(e){return e.id===t.id}))}},S=Object(m.c)({name:"channels",initialState:[],reducers:{fetched:function(e,t){var n=t.payload;e.push.apply(e,Object(E.a)(n.filter(I(e))))},created:function(e,t){var n=t.payload;e.push(n.channel)},deleted:function(e,t){var n=t.payload,c=e.findIndex((function(e){return e.id===n.channelId}));e.splice(c,1)}}}),C=S.actions,A=S.reducer,M=function(e){return Object(b.jsx)("button",Object(u.a)(Object(u.a)({},e),{},{className:"bg-primary font rounded-md py-1.5 px-4 ".concat(e.className),children:e.children}))},k=(n(175),function(e){var t=e.label,n=e.name,c=e.register,a=e.options,s=e.type,i=e.autoFocus,r=e.className,l=e.disabled;return Object(b.jsxs)("div",{className:r,"data-v-ab981bae":"",children:[t&&Object(b.jsx)("label",{htmlFor:n,className:"uppercase text-xs font-semibold","data-v-ab981bae":"",children:t}),Object(b.jsx)("input",Object(u.a)(Object(u.a)({id:n,type:null!==s&&void 0!==s?s:"text",autoFocus:i,disabled:l},c(n,Object(u.a)({},a))),{},{className:"block bg-bg-secondary rounded focus:outline-none w-full h-10 p-2 mt-2","data-v-ab981bae":""}))]})}),T=n(37),D=n(158),_=n.n(D),G={sm:"rounded-lg w-1/4 inset-x-1/3 inset-y-1/3",md:"rounded-lg w-1/3 inset-x-1/3 inset-y-1/4",lg:"rounded-lg w-1/3 inset-x-1/3 top-1/4",full:"h-full w-full"},L=function(e){var t=e.className,n=e.typeName,c=e.size,a=e.children,s=Object(d.b)(),i=Object(d.c)((function(e){return e.ui.openModal})),r=Object(T.b)().closeSnackbar;return Object(b.jsx)(_.a,{className:"bg-bg-primary overflow-auto fixed outline-none ".concat(t," ").concat(G[null!==c&&void 0!==c?c:"sm"]),appElement:document.querySelector("#root"),isOpen:i===n,onRequestClose:function(){s(N),r("saveChanges")},children:a})},R=function(){var e=Object(d.b)(),t=Object(y.a)(),n=t.register,c=t.handleSubmit,a=t.setValue,s=Object(d.c)((function(e){return e.ui.activeGuild}));return Object(b.jsx)(L,{typeName:"CreateChannel",children:Object(b.jsxs)("form",{className:"flex flex-col h-full",onSubmit:c((function(t){var n,c;e((n=s.id,c=t.name,function(e){e(w.wsCallBegan({event:"CHANNEL_CREATE",data:{guildId:n,name:c}}))})),a("name","")})),children:[Object(b.jsx)("header",{className:"text-center mb-5 p-5",children:Object(b.jsx)("h1",{className:"text-2xl font-bold inline",children:"Create Text Channel"})}),Object(b.jsx)("div",{className:"flex-grow p-5",children:Object(b.jsx)(k,{label:"Channel Name",name:"name",register:n})}),Object(b.jsx)("footer",{className:"bg-bg-secondary",children:Object(b.jsx)(M,{className:"float-right m-4",children:"Create"})})]})})},U=Object(m.c)({name:"guilds",initialState:[],reducers:{fetched:function(e,t){var n=t.payload;e.push.apply(e,Object(E.a)(n.filter(I(e))))},created:function(e,t){var n=t.payload;e.push(n.guild)},updated:function(e,t){var n=t.payload,c=e.find((function(e){return e.id===n.guildId}));Object.assign(c,n.partialGuild)},deleted:function(e,t){var n=t.payload,c=e.findIndex((function(e){return e.id===n.guildId}));e.splice(c,1)}}}),B=U.actions,P=U.reducer,V=function(e){return Object(h.a)((function(e){return e.entities.guilds}),(function(t){return t.find((function(t){return t.id===e}))}))},H=function(e){return Object(h.a)((function(e){return e.entities.channels}),(function(t){return t.filter((function(t){return t.guildId===e}))}))},F=function(e){return Object(h.a)((function(e){return e.entities.roles}),(function(t){return t.filter((function(t){return t.guildId===e}))}))},W=Object(m.c)({name:"members",initialState:[],reducers:{fetched:function(e,t){var n=t.payload;e.push.apply(e,Object(E.a)(n.filter(I(e))))},added:function(e,t){var n=t.payload;e.push(n.member)},removed:function(e,t){var n=t.payload,c=e.findIndex((function(e){return e.id===n.memberId}));e.splice(c,1)},updated:function(e,t){var n=t.payload,c=e.find((function(e){return e.id===n.memberId}));Object.assign(c,n.partialMember)}}}),z=W.actions,K=W.reducer,J=function(e,t){return Object(h.a)((function(e){return e.entities.members}),(function(n){return n.find((function(n){return n.guildId===e&&n.userId===t}))}))},Y=function(e){return Object(h.a)((function(e){return{user:e.auth.user,members:e.entities.members}}),(function(t){var n=t.user;return t.members.find((function(t){return t.guildId===e&&t.userId===n.id}))}))},q=function(){var e=Object(d.b)(),t=Object(y.a)(),n=t.register,c=t.handleSubmit,a=Object(y.a)(),s=a.register,i=a.handleSubmit;return Object(b.jsxs)(L,{className:"p-5",typeName:"CreateGuild",size:"lg",children:[Object(b.jsxs)("header",{className:"text-center mb-5",children:[Object(b.jsx)("h1",{className:"text-3xl font-bold inline",children:"Create Guild"}),Object(b.jsxs)("p",{className:"lead",children:["Hang out with your friends. ",Object(b.jsx)("br",{}),"Create an epic guild, or join with friends."]})]}),Object(b.jsx)("h3",{className:"uppercase font-bold mt-10",children:"Join One"}),Object(b.jsxs)("form",{onSubmit:c((function(t){return e((n=t.inviteCode,function(e){e(w.wsCallBegan({event:"GUILD_MEMBER_ADD",data:{inviteCode:n}}))}));var n})),children:[Object(b.jsx)(k,{label:"Invite Code",name:"inviteCode",register:n}),Object(b.jsx)(M,{className:"bg-tertiary w-full h-11 mt-8",children:"Join"})]}),Object(b.jsx)("h3",{className:"uppercase font-bold mt-10",children:"Make Your Own"}),Object(b.jsxs)("form",{onSubmit:i((function(t){return e((n=t.name,function(e){e(w.wsCallBegan({event:"GUILD_CREATE",data:{name:n}}))}));var n})),children:[Object(b.jsx)(k,{label:"Guild Name",name:"name",register:s}),Object(b.jsx)(M,{className:"w-full h-11 mt-8",children:"Create"})]})]})},Z=Object(m.c)({name:"invites",initialState:{fetched:{},list:[]},reducers:{fetched:function(e,t){var n=e.list,c=e.fetched,a=t.payload,s=a[0].guildId;n.push.apply(n,Object(E.a)(a.filter(I(n)))),c.push(s)},created:function(e,t){var n=e.list,c=t.payload;n.push(c.invite)}}}),Q=Z.actions,X=Z.reducer,$=function e(){var t=Object(d.b)(),n=Object(y.a)(),c=n.register,s=n.setValue,i=Object(d.c)((function(e){return e.ui})),r=i.activeGuild,l=i.activeInvite,o=i.openModal;s("inviteCode",null===l||void 0===l?void 0:l.id);var u=o===e.name;Object(a.useEffect)((function(){var e;!l&&r&&t((e=r.id,function(t){t(w.wsCallBegan({event:"INVITE_CREATE",data:{guildId:e}}))}))}),[u]);return l?Object(b.jsxs)(L,{typeName:"CreateInvite",className:"p-5",children:[Object(b.jsx)("header",{className:"mb-3",children:Object(b.jsxs)("h1",{className:"font-bold inline uppercase",children:["Invite Friends to ",null===r||void 0===r?void 0:r.name]})}),Object(b.jsx)("h4",{className:"text-xs uppercase font-bold muted mb-3",children:"Or Send A Guild Invite To A Friend"}),Object(b.jsxs)("div",{className:"relative",children:[Object(b.jsx)(M,{onClick:function(){return window.navigator.clipboard.writeText(l.id)},className:"absolute -right-3 top-5 m-4",children:"Copy"}),Object(b.jsx)(k,{label:"Invite Code",name:"inviteCode",register:c,autoFocus:!0})]})]}):null},ee=n(25),te=function(e){var t=e.title,n=e.count,c=e.className;return Object(b.jsxs)("h2",{className:"uppercase font-bold text-xs tracking-wider ".concat(c),children:[t," ",void 0!==n&&"\u2014 ".concat(n)]})},ne=function(e){var t=Object(T.b)(),n=t.closeSnackbar,c=t.enqueueSnackbar,s=Object(d.b)(),i=Object(d.c)((function(e){return e.ui.saveChangesOpen}));Object(a.useEffect)((function(){i&&c("",{anchorOrigin:{vertical:"bottom",horizontal:"center"},content:o,key:"saveChanges",persist:!0})}),[i]);var r=function(t){n("saveChanges"),e.onSave(t),s(g(!1))},l=function(){for(var t in n("saveChanges"),e.obj)e.setValue(t,e.obj[t]);s(g(!1))},o=function(){return Object(b.jsxs)("div",{id:"saveChanges",className:"flex justify-between rounded bg-black p-3 px-5",style:{width:"50vw"},children:[Object(b.jsx)("span",{className:"flex items-center flex-grow-1",children:"Careful \u2014 you have unsaved changes!"}),Object(b.jsxs)("span",{children:[Object(b.jsx)(M,{className:"bg-transparent font",onClick:l,children:"Reset"}),Object(b.jsx)(M,{className:"bg-success text-black ml-2",onClick:r,children:"Save"})]})]})};return null},ce=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.ui.activeGuild})),n=Object(y.a)(),c=n.register,a=n.handleSubmit,s=n.setValue;return Object(b.jsxs)("form",{onChange:function(){return e(g(!0))},className:"flex flex-col pt-14 px-10 pb-20 h-full mt-1",children:[Object(b.jsx)("header",{children:Object(b.jsx)("h1",{className:"text-xl font-bold inline",children:"Guild Overview"})}),Object(b.jsxs)("section",{className:"w-1/3",children:[Object(b.jsx)(k,{label:"Name",name:"name",register:c,options:{value:t.name},className:"pt-5"}),Object(b.jsx)(k,{label:"Icon URL",name:"iconURL",register:c,options:{value:t.iconURL},className:"pt-5"})]}),Object(b.jsx)(te,{className:"py-2 mt-5",title:"Advanced Settings"}),Object(b.jsx)("section",{children:Object(b.jsx)(M,{type:"button",onClick:function(){var n;window.confirm("Are you sure you want to delete this guild?")&&e((n=t.id,function(e){e(w.wsCallBegan({event:"GUILD_DELETE",data:{guildId:n}}))}))},className:"bg-danger",children:"Delete"})}),Object(b.jsx)(ne,{setValue:s,onSave:function(n){a((function(n){return e(function(e,t){return function(n){n(w.wsCallBegan({event:"GUILD_UPDATE",data:Object(u.a)({guildId:e},t)}))}}(t.id,n))}))(n)},obj:t})]})},ae=n(21),se=Object(m.c)({name:"roles",initialState:[],reducers:{fetched:function(e,t){var n=t.payload;e.push.apply(e,Object(E.a)(n.filter(I(e))))},created:function(e,t){var n=t.payload;e.push(n.role)},updated:function(e,t){var n=t.payload,c=e.find((function(e){return e.id===n.roleId}));Object.assign(c,n.partialRole)},deleted:function(e,t){var n=t.payload,c=e.findIndex((function(e){return e.id===n.roleId}));e.splice(c,1)}}}),ie=se.actions,re=se.reducer,le=function(e,t){return Object(h.a)((function(e){return{members:e.entities.members,roles:e.entities.roles}}),(function(n){var c,a=n.members,s=n.roles,i=a.find((function(n){return n.guildId===e&&n.userId===t}));return i?s.filter((function(e){return i.roleIds.includes(e.id)})).reduce((c="position",function(e,t){return e<t[c]?e:t})):null}))},oe=n(13),de=n(16),ue=function(e){var t=e.ids;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("hr",{className:"mt-3 border-bg-primary pt-2"}),t.map((function(e){var t=e.title,n=e.id;return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("div",{className:"float-none -mb-1 text-xs",children:t}),Object(b.jsxs)("div",{title:t,className:"flex items-center justify-between pb-2",children:[Object(b.jsx)("span",{className:"muted",children:n}),Object(b.jsx)(de.a,{icon:oe.j})]})]})}))]})},be=function(e){var t=e.role,n=Object(d.c)((function(e){return e.config.devMode}));return Object(b.jsxs)(ae.a,{id:t.id,className:"bg-bg-tertiary rounded shadow w-48 p-2",children:[Object(b.jsx)("div",{style:{color:t.color},children:t.name}),n&&Object(b.jsx)(ue,{ids:[{title:"Role ID",id:t.id}]})]},t.id)},je=(n(187),function(e){return Object(b.jsx)("div",{className:"flex ".concat(e.className),"data-v-f395da15":"",children:Object(b.jsx)("label",{htmlFor:e.id,className:"flex items-center cursor-pointer","data-v-f395da15":"",children:Object(b.jsxs)("div",{className:"relative","data-v-f395da15":"",children:[Object(b.jsx)("input",Object(u.a)(Object(u.a)({},e),{},{id:e.id,type:"checkbox",className:"sr-only",checked:e.checked,"data-v-f395da15":""})),Object(b.jsx)("div",{className:"block bg-gray-600 w-14 h-8 rounded-full","data-v-f395da15":""}),Object(b.jsx)("div",{className:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition","data-v-f395da15":""})]})})})}),fe=function(e){var t=e.id,n=e.tab,c=e.setTab,a=e.children,s=e.className,i=Object(d.c)((function(e){return e.ui.saveChangesOpen}));return Object(b.jsx)(l.b,Object(u.a)(Object(u.a)({},e),{},{to:"#",onClick:function(){if(i)return function(){var e=document.querySelector("#saveChanges");e&&(e.style.backgroundColor="var(--danger)")}();null===c||void 0===c||c(t)},className:"\n        flex items-center rounded py-1.5 px-2.5 h-8 mb-0.5 ".concat(s,"\n        ").concat(n===t&&"active"),children:a}))},me=n(59),he=n(60);!function(e){var t,n,a;!function(e){e[e.MANAGE_INVITES=2048]="MANAGE_INVITES",e[e.VIEW_CHANNELS=1024]="VIEW_CHANNELS",e[e.CREATE_INVITE=128]="CREATE_INVITE",e[e.KICK_MEMBERS=64]="KICK_MEMBERS",e[e.MANAGE_CHANNELS=16]="MANAGE_CHANNELS",e[e.MANAGE_ROLES=8]="MANAGE_ROLES",e[e.MANAGE_GUILD=4]="MANAGE_GUILD",e[e.ADMINISTRATOR=1]="ADMINISTRATOR"}(t||(t={})),e.General=t,function(e){e[e.READ_MESSAGES=8192]="READ_MESSAGES",e[e.MANAGE_MESSAGES=4096]="MANAGE_MESSAGES",e[e.SEND_MESSAGES=2048]="SEND_MESSAGES"}(n||(n={})),e.Text=n,function(e){e[e.SPEAK=65536]="SPEAK",e[e.CONNECT=32768]="CONNECT"}(a||(a={})),e.Voice=a;e.All=Object(u.a)(Object(u.a)(Object(u.a)({},t),n),a),e.defaultPermissions=c.General.VIEW_CHANNELS|c.General.CREATE_INVITE|c.Text.SEND_MESSAGES|c.Text.READ_MESSAGES}(c||(c={}));var Oe,ve,xe=function(){function e(t){Object(me.a)(this,e),this.state=t,this.description={general:{ADMINISTRATOR:"Gives all permissions. This is a dangerous permission.",CREATE_INVITE:"Ability to create invites for users to join this guild.",KICK_MEMBERS:"Ability to kick members from this guild.",MANAGE_CHANNELS:"Ability to create, edit, or delete channels.",MANAGE_GUILD:"Ability to edit general guild settings.",MANAGE_ROLES:"Ability to manage guild roles.",VIEW_CHANNELS:"Ability to view channels."},text:{MANAGE_MESSAGES:"Ability to manage message other member's messages.",READ_MESSAGES:"Ability to read messages,",SEND_MESSAGES:"Ability to send messages in text channels."}}}return Object(he.a)(e,[{key:"canMember",value:function(e,t,n){return t.ownerId===n.userId||this.hasPermission(this.getTotalPerms(n,t.id),c.All[e])}},{key:"can",value:function(e,t){var n=V(t)(this.state);if(!n)throw new TypeError("Guild not found");var a=Y(t)(this.state);if(!a)throw new TypeError("Member not found");return n.ownerId===a.userId||this.hasPermission(this.getTotalPerms(a,t),c.All[e])}},{key:"getTotalPerms",value:function(e,t){return F(t)(this.state).filter((function(t){return null===e||void 0===e?void 0:e.roleIds.includes(t.id)})).reduce((function(e,t){return t.permissions|e}),0)}},{key:"hasPermission",value:function(e,t){return Boolean(e&t)||Boolean(e&c.General.ADMINISTRATOR)}},{key:"canManage",value:function(e,t,n){var c=J(t,n)(this.state);return!!c&&(this.can(e,t)&&(this.state.auth.user.id===c.userId||this.isHigher(t,c.roleIds)))}},{key:"canPunish",value:function(e,t,n){return this.state.auth.user.id!==n&&this.can(e,t)&&this.canManage(e,t,n)}},{key:"isHigher",value:function(e,t){var n=V(e)(this.state);if(!n)throw new TypeError("Guild not found");var c=Y(e)(this.state);if(!c)throw new TypeError("Member not found");var a=t.concat(c.roleIds),s=F(e)(this.state).filter((function(e){return a.includes(e.id)})),i=s[s.length-1];return n.ownerId===c.userId||c.roleIds.includes(i.id)&&!t.includes(i.id)}}]),e}(),ge=function(){var e=Object(d.d)().getState();return new xe(e)},pe=function(e){var t=e.perms,n=e.setPerms,a=e.setValue,s=Object(d.b)(),i=ge().description,r=function(e){n(e),a("permissions",e),s(g(!0))},l=function(e){return Boolean(t&c.All[e])},o=function(e){var n=e.category,a=e.permName;return Object(b.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[Object(b.jsx)("span",{children:i[n][a]}),Object(b.jsx)(je,{id:a,checked:l(a),onChange:function(){return e=a,n=!l(a),r(n?t|c.All[e]:t&~c.All[e]);var e,n},className:"float-right"})]})};return Object(b.jsxs)(b.Fragment,{children:[Object.keys(i).map((function(e){return Object(b.jsxs)("div",{className:"mb-5",children:[Object(b.jsx)(te,{className:"muted pb-1.5 mt-5",title:e}),Object.keys(i[e]).map((function(t){return Object(b.jsx)(o,{category:e,permName:t},t)}))]},e)})),Object(b.jsx)(M,{onClick:function(){return r(0)},className:"bg-white text-black",type:"button",children:"Clear"}),Object(b.jsx)(M,{onClick:function(){return r(c.defaultPermissions)},className:"bg-secondary text-black ml-2",type:"button",children:"Default"})]})},Ne=function(){var e,t=Object(d.b)(),n=Object(y.a)(),c=n.handleSubmit,s=n.register,i=n.setValue,r=n.getValues,l=Object(o.i)().guildId,f=Object(d.c)(F(l)),m=Object(a.useState)(f[0].id),O=Object(ee.a)(m,2),v=O[0],x=O[1],p=Object(d.c)((e=v,Object(h.a)((function(e){return e.entities.roles}),(function(t){return t.find((function(t){return t.id===e}))})))),N=Object(a.useState)(0),E=Object(ee.a)(N,2),I=E[0],S=E[1],C=Object(a.useState)(!1),A=Object(ee.a)(C,2),T=A[0],D=A[1];Object(a.useEffect)((function(){if(!p)return x(f[0].id);for(var e=0,t=["name","color","permissions","hoisted"];e<t.length;e++){var n=t[e];i(n,p[n])}S(p.permissions),D(p.hoisted)}),[p]);var _=function(){return Object(b.jsxs)("form",{className:"mb-10",onChange:function(){return t(g(!0))},children:[Object(b.jsxs)("div",{className:"flex gap-4",children:[Object(b.jsx)(k,{label:"Name",name:"name",register:s}),Object(b.jsx)(k,{label:"Color",name:"color",type:"color",register:s})]}),Object(b.jsxs)("div",{className:"mt-5",children:[Object(b.jsx)(te,{title:"Options",className:" pb-1.5 mt-5"}),Object(b.jsxs)("span",{children:[Object(b.jsx)("span",{children:"Separate role on member list"}),Object(b.jsx)(je,Object(u.a)(Object(u.a)({id:"hoisted",checked:T},s("hoisted")),{},{onChange:function(){D(!T),i("hoisted",!T)},className:"float-right"}))]})]}),Object(b.jsx)(pe,{perms:I,setPerms:S,setValue:i}),Object(b.jsx)(M,{onClick:function(){return t(function(e,t){return function(n){n(w.wsCallBegan({event:"GUILD_ROLE_DELETE",data:{roleId:t,guildId:e}}))}}(l,p.id))},className:"bg-danger float-right",type:"button",children:"Delete"})]})};return Object(b.jsxs)("div",{className:"grid grid-cols-12 flex flex-col pt-14 px-10 pb-20 h-full mt-1",children:[Object(b.jsx)("div",{className:"lg:col-span-3 col-span-12",children:Object(b.jsxs)("nav",{className:"pr-10",children:[f.sort((function(e,t){return e.position>t.position?-1:1})).map((function(e){return Object(b.jsxs)(ae.b,{id:e.id,children:[Object(b.jsx)(fe,{style:{color:e.color},tab:v,setTab:x,id:e.id,children:e.name},e.id),Object(b.jsx)(be,{role:e})]},e.id)})),Object(b.jsx)(j,{onClick:function(){return t(function(e){return function(t){t(w.wsCallBegan({event:"GUILD_ROLE_CREATE",data:{guildId:e}}))}}(l))},style:{color:"var(--success)"},className:"ring-green-500 m-2",children:"Create"})]})}),Object(b.jsx)("div",{className:"lg:col-span-9 col-span-12",children:p&&Object(b.jsx)(_,{})}),Object(b.jsx)(ne,{setValue:function(){i.apply(void 0,arguments),S(p.permissions),D(p.hoisted)},onSave:function(e){c((function(e){return t(function(e,t,n){return function(c){c(w.wsCallBegan({event:"GUILD_ROLE_UPDATE",data:Object(u.a)({roleId:t,guildId:e},n)}))}}(l,p.id,e))}))(e)},obj:r()})]})},ye=function(){var e=Object(d.b)(),t=Object(T.b)().closeSnackbar;return Object(b.jsxs)("div",{className:"rounded-full ring ring-gray-500 cursor-pointer border-white rounded-full px-2 w-16 mt-14",onClick:function(){e(N),t("saveChanges")},children:[Object(b.jsx)(de.a,{icon:oe.o,color:"var(--muted)"}),Object(b.jsx)("span",{className:"pl-1.5 muted",children:"ESC"})]})},Ee=function(){var e=Object(d.b)(),t=Object(o.i)().guildId,n=Object(d.c)(function(e){return Object(h.a)((function(e){return e.entities.invites.list}),(function(t){return t.filter((function(t){return t.guildId===e}))}))}(t)),c=function(){return Object(b.jsxs)("div",{className:"mt-2",children:[n.map((function(t){return Object(b.jsxs)("div",{className:"w-full mb-3",children:[Object(b.jsx)("strong",{children:t.id}),Object(b.jsx)("span",{className:"float-right",children:Object(b.jsx)("button",{type:"button",className:"danger rounded-full ring ring-red-500 px-2",onClick:function(){return e((n=t.id,function(e){e(w.wsCallBegan({event:"INVITE_DELETE",data:{inviteCode:n}}))}));var n},children:"x"})})]})})),!n.length&&Object(b.jsx)("span",{children:"No invites created."})]})};return Object(b.jsxs)("form",{onChange:function(){return e(g(!0))},className:"flex flex-col pt-14 px-10 pb-20 h-full mt-1",children:[Object(b.jsx)("header",{children:Object(b.jsx)("h1",{className:"text-xl font-bold inline",children:"Invites"})}),Object(b.jsx)(c,{})]})},we=function(e){var t=e.className,n=e.tabs,c=e.setTab,a=e.tab,s=e.predicate;return Object(b.jsx)("div",{className:t,children:n.map((function(e){return(!s||(null===s||void 0===s?void 0:s(e)))&&Object(b.jsx)(fe,{tab:a,setTab:c,id:e.id,children:e.name},e.id)}))})},Ie=function(){var e=Object(d.c)((function(e){return e.ui.activeGuild})),t=Object(a.useState)("overview"),n=Object(ee.a)(t,2),c=n[0],s=n[1],i=ge();return e?Object(b.jsx)(L,{typeName:"GuildSettings",size:"full",children:Object(b.jsxs)("div",{className:"grid grid-cols-12 h-full",children:[Object(b.jsx)("div",{className:"col-span-4 bg-bg-secondary",children:Object(b.jsxs)("nav",{className:"float-right flex-grow py-14 w-48 my-1 mr-4",children:[Object(b.jsx)(te,{className:"muted px-2.5 pb-1.5",title:e.name}),Object(b.jsx)(we,{tabs:[{perm:"MANAGE_GUILD",name:"Overview",id:"overview"},{perm:"MANAGE_ROLES",name:"Roles",id:"roles"},{perm:"MANAGE_INVITES",name:"Invites",id:"invites"}],tab:c,setTab:s,predicate:function(t){return i.can(t.perm,e.id)}})]})}),Object(b.jsxs)("div",{className:"col-span-6 h-full",children:["overview"===c&&Object(b.jsx)(ce,{}),"roles"===c&&Object(b.jsx)(Ne,{}),"invites"===c&&Object(b.jsx)(Ee,{})]}),Object(b.jsx)("div",{className:"col-span-2 h-full",children:Object(b.jsx)(ye,{})})]})}):null},Se=function(e){var t,n=e.guild,c=e.user,a=e.size,s=void 0===a?"md":a,i=Object(d.c)(le(null===n||void 0===n?void 0:n.id,c.id)),r=(null===n||void 0===n?void 0:n.ownerId)===c.id,l=c.discriminator.toString().padStart(4,"0"),o="ONLINE"===c.status,u=function(){var e={color:o?"bg-success":"bg-gray-500",size:"lg"===s?"h-6 w-6":"h-3.5 w-3.5"};return Object(b.jsx)("span",{className:"rounded-full absolute flex -right-0.5 -bottom-0.5",children:Object(b.jsx)("span",{style:{border:"2px solid var(--bg-secondary)"},className:"relative inline-flex rounded-full px-1 ".concat(e.size," ").concat(e.color)})})};return Object(b.jsxs)("div",{className:"flex items-center px-2 ".concat(!o&&"opacity-50"),children:[Object(b.jsxs)("div",{className:"relative avatar mr-2",children:[Object(b.jsx)(u,{}),Object(b.jsx)("img",{className:"md"===s?"select-none rounded-full w-8 h-8":"select-none rounded-full w-20 h-20",src:"".concat("https://api.accord.app/assets").concat(c.avatarURL)})]}),Object(b.jsxs)("div",{className:"tag leading-4",children:[Object(b.jsxs)("h4",{className:"font-bold ".concat("lg"===s?"text-lg":"text-sm"),children:[Object(b.jsx)("span",{style:{color:null!==(t=null===i||void 0===i?void 0:i.color)&&void 0!==t?t:"var(--secondary)"},className:n&&"font-light text-base",children:c.username}),Object(b.jsx)("span",{className:"text-yellow-400 ml-1",children:r&&Object(b.jsx)(de.a,{icon:oe.e})})]}),!n&&Object(b.jsxs)("div",{className:"discriminator ".concat("lg"===s?"text-sm":"text-xs"),children:["#",l]})]})]})},Ce=function(){var e=Object(d.c)((function(e){return e.ui.activeUser})),t=Object(a.useState)("info"),n=Object(ee.a)(t,2),c=n[0],s=n[1],i={BUG_1:{color:"bronze",icon:oe.b,title:"Has destroyed a few bugs."},BUG_2:{color:"silver",icon:oe.b,title:"Has destroyed many bugs."},BUG_3:{color:"gold",icon:oe.b,title:"Are there still bugs left?"},OG:{color:"orange",icon:oe.n,title:"Was here since the very beginning"},STAFF:{color:"var(--primary)",icon:oe.h,title:"Epic"}},r=function(){return e?Object(b.jsx)("div",{className:"px-3 pt-2",children:e.badges.map((function(e){var t=i[e],n=t.color,c=t.icon,a=t.title;return Object(b.jsx)(de.a,{title:a,className:"pr-3",style:{color:n},size:"2x",icon:c})}))}):null},l=function(){return Object(b.jsx)("div",{})},o=function(){return Object(b.jsx)("p",{children:"Mutual guilds will go here when ADAMJR adds it."})};return e?Object(b.jsxs)(L,{typeName:"UserProfile",size:"md",children:[Object(b.jsxs)("header",{className:"bg-bg-tertiary",children:[Object(b.jsxs)("div",{className:"p-5",children:[Object(b.jsx)(Se,{size:"lg",user:e}),Object(b.jsx)(r,{})]}),Object(b.jsx)("hr",{className:"border-bg-primary"}),Object(b.jsx)(we,{className:"p-2",tab:c,setTab:s,tabs:[{name:"Info",id:"info"},{name:"Mutual Guilds",id:"mutualGuilds"}]})]}),Object(b.jsxs)("main",{className:"p-4",children:["info"===c&&Object(b.jsx)(l,{}),"mutualGuilds"===c&&Object(b.jsx)(o,{})]})]}):null},Ae=function(e){return JSON.parse(localStorage.getItem("config.".concat(e)))},Me=function(e,t){return JSON.parse(localStorage.setItem("config.".concat(e),t))},ke=Object(m.c)({name:"config",initialState:{devMode:null!==(Oe=Ae("devMode"))&&void 0!==Oe&&Oe,memberListToggled:null===(ve=Ae("memberListToggled"))||void 0===ve||ve},reducers:{toggleDevMode:function(e){var t=!e.devMode;e.devMode=t},toggleMemberList:function(e){var t=!e.memberListToggled;e.memberListToggled=t}}}),Te=ke.actions,De=ke.reducer,_e=function(){return{Authorization:"Bearer ".concat(Ge())}},Ge=function(){return localStorage.getItem("token")},Le=Object(m.c)({name:"users",initialState:[],reducers:{fetched:function(e,t){var n=t.payload;e.push.apply(e,Object(E.a)(n.filter(I(e))))},updated:function(e,t){var n=t.payload,c=e.find((function(e){return e.id===n.userId}));c&&Object.assign(c,n.partialUser)},deleted:function(e,t){var n=t.payload,c=e.findIndex((function(e){return e.id===n.userId}));e.splice(c,1)}}}),Re=Le.actions,Ue=Le.reducer,Be=function(e){return Object(h.a)((function(e){return e.entities.users}),(function(t){var n;return null!==(n=t.find((function(t){return t.id===e})))&&void 0!==n?n:{discriminator:0,username:"Unknown",avatarURL:"/avatars/unknown.png"}}))},Pe=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.user})),n=Object(y.a)(),c=n.register,a=n.handleSubmit,s=n.setValue,i=Object(d.c)((function(e){return e.config.devMode}));return Object(b.jsxs)("form",{onChange:function(){return e(g(!0))},className:"flex flex-col pt-14 px-10 pb-20 h-full mt-1",children:[Object(b.jsx)("header",{children:Object(b.jsx)("h1",{className:"text-xl font-bold inline",children:"My Account"})}),Object(b.jsxs)("section",{className:"w-1/3",children:[Object(b.jsx)("div",{className:"pt-5",children:Object(b.jsx)(k,{label:"Username",name:"username",register:c,options:{value:t.username}})}),Object(b.jsx)("div",{className:"pt-5",children:Object(b.jsx)(k,{label:"Email",name:"email",register:c,options:{value:t.email}})}),Object(b.jsx)("div",{className:"pt-5",children:Object(b.jsx)(k,{label:"Avatar URL",name:"avatarURL",register:c,options:{value:t.avatarURL}})})]}),Object(b.jsx)(te,{className:"py-2 mt-5",title:"Advanced Settings"}),Object(b.jsxs)("section",{children:[Object(b.jsxs)("div",{className:"w-1/3 pb-5",children:[Object(b.jsx)("label",{htmlFor:"devMode",children:"Dev Mode"}),Object(b.jsx)(je,{onChange:function(e){return e.stopPropagation()},onClick:function(){return e((function(e,t){var n=t().config;e(Te.toggleDevMode()),Me("devMode",!n.devMode)}))},checked:i,className:"float-right",id:"devMode"})]}),Object(b.jsx)(M,{onClick:a((function(){window.confirm("Are you sure you want to delete your user?")&&e((function(e){e(w.wsCallBegan({event:"USER_DELETE",data:{token:Ge()}}))}))})),className:"bg-danger",children:"Delete"})]}),Object(b.jsx)(ne,{setValue:s,onSave:function(t){a((function(t){return e(function(e){return function(t){t(w.wsCallBegan({event:"USER_UPDATE",data:Object(u.a)(Object(u.a)({},e),{},{token:Ge()})}))}}(t))}))(t)},obj:t})]})},Ve=Object(m.c)({name:"auth",initialState:{attemptedLogin:!1,shouldVerify:!1},reducers:{ready:function(e,t){var n=t.payload;e.user=n.user},updatedUser:function(e,t){var n=t.payload;Object.assign(e.user,n.partialUser)},loggedIn:function(e){e.attemptedLogin=!0},loggedOut:function(e){delete e.user,e.attemptedLogin=!1,e.shouldVerify=!1},shouldVerify:function(e){e.shouldVerify=!0}}}),He=Ve.actions,Fe=Ve.reducer,We=function(){return function(e,t){!t().auth.user&&Ge()&&e(w.wsCallBegan({event:"READY",data:{token:Ge()}}))}},ze=function(){return function(e){e(He.loggedOut()),localStorage.removeItem("token")}},Ke=function(e){return function(t){t(w.restCallBegan({onSuccess:[],url:"/auth/verify?code=".concat(e),callback:function(e){var n=e.message,c=e.token;n&&alert(n),c&&(localStorage.setItem("token",c),t(We()))}}))}},Je=function(){var e=Object(d.b)(),t=Object(y.a)();return Object(b.jsxs)("div",{className:"flex flex-col pt-14 px-10 pb-20 h-full mt-1",children:[Object(b.jsx)("header",{children:Object(b.jsx)("h1",{className:"text-xl font-bold inline",children:"Account Security"})}),Object(b.jsx)(te,{className:"py-2 mt-5",title:"Change Password"}),Object(b.jsxs)("section",{className:"w-1/3",children:[Object(b.jsxs)("div",{className:"secondary",children:[Object(b.jsx)(de.a,{icon:oe.k}),Object(b.jsx)("span",{className:"ml-1",children:"Your email must be verified to be able to change the password."})]}),Object(b.jsx)("div",{className:"pt-5",children:Object(b.jsx)(k,{label:"Old Password",name:"oldPassword",type:"password",register:t.register})}),Object(b.jsx)("div",{className:"pt-5",children:Object(b.jsx)(k,{label:"New Password",name:"newPassword",type:"password",register:t.register})}),Object(b.jsx)("div",{className:"flex justify-center w-full mt-4",children:Object(b.jsx)(M,{onClick:t.handleSubmit((function(n){var c=t.getValues(),a=c.oldPassword,s=c.newPassword;t.handleSubmit((function(){return e(function(e,t){return function(n,c){var a=c().auth.user;n(w.restCallBegan({onSuccess:[],method:"post",url:"/auth/change-password",data:{email:a.email,oldPassword:e,newPassword:t},callback:function(e){var t=e.message,n=e.token;t&&alert(t),n&&localStorage.setItem("token",n)}}))}}(a,s))}))(n)})),className:"bg-warning",children:"Change"})})]})]})},Ye=function(){var e=Object(d.c)((function(e){return e.auth.user})),t=Object(a.useState)("overview"),n=Object(ee.a)(t,2),c=n[0],s=n[1];return e?Object(b.jsx)(L,{typeName:"UserSettings",size:"full",children:Object(b.jsxs)("div",{className:"grid grid-cols-12 h-full",children:[Object(b.jsx)("div",{className:"col-span-4 bg-bg-secondary",children:Object(b.jsxs)("nav",{className:"float-right flex-grow py-14 w-48 my-1 mr-4",children:[Object(b.jsx)(te,{className:"normal px-2.5 pb-1.5",title:"User Settings"}),Object(b.jsx)(we,{tab:c,setTab:s,tabs:[{name:"Overview",id:"overview"},{name:"Security",id:"security"}]}),Object(b.jsx)("div",{className:"rounded-sm bg-bg-modifier-accent h-px w-42 my-2 mx-2.5 "}),Object(b.jsx)(l.b,{to:"/logout",className:"danger flex items-center rounded py-1.5 px-2.5 h-8 mb-0.5",children:"Logout"})]})}),Object(b.jsxs)("div",{className:"col-span-6 h-full",children:["overview"===c&&Object(b.jsx)(Pe,{}),"security"===c&&Object(b.jsx)(Je,{})]}),Object(b.jsx)("div",{className:"col-span-2 h-full",children:Object(b.jsx)(ye,{})})]})}):null},qe=function(){var e=Object(T.b)(),t=(e.enqueueSnackbar,e.closeSnackbar),n=Object(d.c)((function(e){return e.ui.openDialog}));return Object(a.useEffect)((function(){if(!n)return t("dialog");"User not logged in"!==n.content&&alert(n.content)}),[n]),null},Ze=n(159),Qe=n.n(Ze).a.connect("https://api.accord.app",{secure:!0,path:"/ws",transports:["websocket","polling","flashsocket"]});Qe.io.on("open",(function(){return console.log("Connected to WS Server")}));var Xe,$e=Qe,et=Object(m.c)({name:"meta",initialState:{fetchedEntities:!1,hasListenedToWS:!1},reducers:{fetchedEntities:function(e){e.fetchedEntities=!0},listenedToWS:function(e){e.hasListenedToWS=!0}}}),tt=et.actions,nt=et.reducer,ct=n(53),at=n.n(ct),st=Object(m.c)({name:"typing",initialState:[],reducers:{userTyped:function(e,t){var n=t.payload;e.push(n)},userStoppedTyping:function(e,t){var n=t.payload,c=it(e,n.userId,n.channelId);e.splice(c,1)}}}),it=function(e,t,n){return e.findIndex((function(e){return e.channelId===n&&e.userId===t}))},rt=st.actions,lt=st.reducer,ot=Object(m.c)({name:"messages",initialState:{fetched:{},list:[]},reducers:{fetched:function(e,t){var n=e.list,c=e.fetched,a=t.payload;n.push.apply(n,Object(E.a)(a.filter(I(n)))),a.length&&(c[a[0].channelId]="testing")},created:function(e,t){var n=e.list,c=t.payload;n.push(c.message)},deleted:function(e,t){var n=e.list,c=t.payload,a=n.findIndex((function(e){return e.id===c.messageId}));n.splice(a,1)},updated:function(e,t){var n=e.list,c=t.payload,a=n.find((function(e){return e.id===c.message.id}));Object.assign(a,c.message)}}}),dt=function(e){return Object(h.a)((function(e){return e.entities.messages.list}),(function(t){return t.filter((function(t){return t.channelId===e}))}))},ut=ot.actions,bt=ot.reducer,jt=n(34),ft=Object(m.c)({name:"pings",initialState:{},reducers:{initialized:function(e,t){var n=t.payload;Object.assign(e,n)},added:function(e,t){var n=t.payload;e[n.guildId].push(n.channelId)},channelMarkedAsRead:function(e,t){var n=t.payload,c=e[n.guildId],a=c.indexOf(n.channelId);c.splice(a,1)},guildMarkedAsRead:function(e,t){e[t.payload.guildId]=[]}}}),mt=ft.actions,ht=ft.reducer,Ot=function(){var e=Object(d.b)(),t=Object(o.g)(),n=Object(d.d)(),c=Object(d.c)((function(e){return e.meta.hasListenedToWS})),s=Object(T.b)().enqueueSnackbar,i=function(){return n.getState()};return Object(a.useEffect)((function(){c||($e.on("error",(function(e){var t,n;s("".concat(null!==(t=null===(n=e.data)||void 0===n?void 0:n.message)&&void 0!==t?t:e.message,"."),{anchorOrigin:{vertical:"bottom",horizontal:"left"},variant:"error",autoHideDuration:5e3})})),$e.on("CHANNEL_CREATE",(function(n){var c=i(),a=c.auth,s=c.ui,r=n.creatorId===a.user.id;e(C.created(n)),r&&s.activeGuild&&(e(v.closedModal()),t.push("/channels/".concat(s.activeGuild.id,"/").concat(n.channel.id)))})),$e.on("CHANNEL_DELETE",(function(n){var c,a=i().ui;n.channelId===(null===(c=a.activeChannel)||void 0===c?void 0:c.id)&&a.activeGuild&&t.push("/channels/".concat(a.activeGuild.id)),e(C.deleted(n))})),$e.on("GUILD_CREATE",(function(n){e(Re.fetched(n.users)),e(C.fetched(n.channels)),e(z.fetched(n.members)),e(ie.fetched(n.roles)),e(B.created(n)),e(v.closedModal()),t.push("/channels/".concat(n.guild.id))})),$e.on("GUILD_DELETE",(function(n){var c,a=i().ui;n.guildId===(null===(c=a.activeGuild)||void 0===c?void 0:c.id)&&(e(v.closedModal()),t.push("/channels/@me")),e(B.deleted(n));var s=Y(n.guildId)(i()).id;e(z.removed({memberId:s}))})),$e.on("GUILD_MEMBER_ADD",(function(t){e(Re.fetched([t.user])),e(z.added(t))})),$e.on("GUILD_MEMBER_UPDATE",(function(t){return e(z.updated(t))})),$e.on("GUILD_MEMBER_REMOVE",(function(t){return e(z.removed(t))})),$e.on("GUILD_ROLE_CREATE",(function(t){return e(ie.created(t))})),$e.on("GUILD_ROLE_DELETE",(function(t){return e(ie.deleted(t))})),$e.on("GUILD_ROLE_UPDATE",(function(t){return e(ie.updated(t))})),$e.on("GUILD_UPDATE",(function(t){return e(B.updated(t))})),$e.on("INVITE_CREATE",(function(t){e(Q.created(t)),e(v.focusedInvite(t.invite))})),$e.on("MESSAGE_CREATE",(function(t){var n;if(!(null===(n=i().auth.user.ignored)||void 0===n?void 0:n.userIds.includes(t.message.authorId))){e(ut.created(t));t.message.channelId;var c=i().ui.activeChannel;c&&c.id}})),$e.on("MESSAGE_DELETE",(function(t){return e(ut.deleted(t))})),$e.on("MESSAGE_UPDATE",(function(t){return e(ut.updated(t))})),$e.on("PRESENCE_UPDATE",(function(t){var n=t.userId,c=t.status;return e(Re.updated({userId:n,partialUser:{status:c}}))})),$e.on("READY",(function(t){e(He.ready(t)),e(Re.fetched([t.user]))})),$e.on("TYPING_START",(function(t){e(rt.userTyped(t));setTimeout((function(){return e(rt.userStoppedTyping(t))}),5e3)})),$e.on("USER_DELETE",(function(){$e.disconnect(),t.push("/"),e(ze())})),$e.on("USER_UPDATE",(function(t){e(He.updatedUser(t)),e(Re.updated(t))})),e(tt.listenedToWS()))}),[c]),null},vt=function(e){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.ui.openDropdown}));Object(a.useEffect)((function(){var t;document.title=null!==(t=e.pageTitle)&&void 0!==t?t:"accord.app"}),[]);return Object(b.jsxs)("div",Object(u.a)(Object(u.a)({onClick:function(){return n&&t(v.toggleDropdown({}))}},e),{},{children:[e.children,Object(b.jsx)(Ot,{}),Object(b.jsx)(qe,{}),Object(b.jsx)(R,{}),Object(b.jsx)(q,{}),Object(b.jsx)($,{}),Object(b.jsx)(Ie,{}),Object(b.jsx)(Ye,{}),Object(b.jsx)(Ce,{})]}))},xt=n.p+"static/media/chat.304c50bf.svg",gt=n.p+"static/media/devices.99f78ca4.svg",pt=n.p+"static/media/friends.547620e1.svg",Nt=n.p+"static/media/secure.7370ac46.svg",yt=(n(215),function(){var e=function(e){return Object(b.jsxs)("div",{"data-v-59c13769":"",children:[Object(b.jsx)("h3",{className:"text-center text-1xl font-black font mb-4","data-v-59c13769":"",children:e.title}),Object(b.jsx)("img",{className:"w-44 inline",src:e.src,alt:"Chat","data-v-59c13769":""})]})},t=[];return document.addEventListener("keyup",(function(e){if(t.push(e.key),t.join("").endsWith("testing123"))try{document.querySelector("h1").textContent="Easteregg++",document.querySelector(".lead").textContent="Are you happy now?"}catch(n){}})),Object(b.jsxs)(vt,{className:"z-10 bg-bg-tertiary h-full relative",pageTitle:"accord.app | Like Discord but Cooler","data-v-59c13769":"",children:[Object(b.jsx)(f,{"data-v-59c13769":""}),Object(b.jsxs)("section",{className:"z-10 text-center my-4","data-v-59c13769":"",children:[Object(b.jsx)("h1",{"data-v-59c13769":"",children:"It's time to ditch Discord and Zoom."}),Object(b.jsx)("div",{className:"flex justify-center","data-v-59c13769":"",children:Object(b.jsx)("div",{className:"lead font-light mt-2 max-w-xl","data-v-59c13769":"",children:"All-in-one voice and text chat for you that's free, secure, and works on both your desktop and phone. Stop paying for Discord guild boosts and hassling with Zoom. Simplify your life."})}),Object(b.jsx)("button",{className:"font-primary shadow-md bg-green text-dark","data-v-59c13769":"",children:Object(b.jsx)(l.b,{to:"/login","data-v-59c13769":"",children:Object(b.jsx)(M,{className:"bg-white text-black rounded w-56 h-11 px-6 mt-8","data-v-59c13769":"",children:"Login"})})}),Object(b.jsx)("button",{className:"shadow-md bg-green text-dark ml-10","data-v-59c13769":"",children:Object(b.jsx)(l.b,{to:"/channels/@me","data-v-59c13769":"",children:Object(b.jsx)(M,{className:"text-black bg-success rounded W-56 h-11 px-6 mt-8","data-v-59c13769":"",children:"Open Accord in Your Browser"})})})]}),Object(b.jsxs)("section",{title:"Description may be true for incoming features.",className:"absolute top-50 w-1/2 inset-x-1/4 flex justify-between","data-v-59c13769":"",children:[Object(b.jsx)(e,{src:xt,title:"Chat w/ Friends","data-v-59c13769":""}),Object(b.jsx)(e,{src:gt,title:"On Mobile or Desktop","data-v-59c13769":""}),Object(b.jsx)(e,{src:pt,title:"Join or Manage Guilds","data-v-59c13769":""}),Object(b.jsx)(e,{src:Nt,title:"Secure","data-v-59c13769":""})]})]})}),Et=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.ui.activeChannel})),n=Object(d.c)((function(e){return e.ui.activeGuild})),c=Object(d.c)((function(e){return e.config.memberListToggled}));return Object(b.jsxs)("div",{className:"shadow-elevation flex items-center h-12 px-5",children:[t&&Object(b.jsx)(de.a,{icon:oe.i,className:"scale-150 mr-2"}),Object(b.jsx)("h3",{className:"flex-grow font-bold ml-1",children:null===t||void 0===t?void 0:t.name}),n&&Object(b.jsx)(de.a,{onClick:function(){return e((function(e,t){var n=t().config;e(Te.toggleMemberList()),Me("memberListToggled",!n.memberListToggled)}))},icon:oe.q,className:"cursor-pointer ".concat(c?"heading":"muted")})]})},wt=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.user}));return Object(b.jsxs)("div",{className:"select-all relative flex items-center bg-bg-secondary-alt py-2",children:[Object(b.jsx)(Se,{user:t}),Object(b.jsx)(de.a,{onClick:function(){return e(v.openedModal("UserSettings"))},className:"float-right cursor-pointer absolute right-4",icon:oe.d})]})},It=function(e){var t=Object(d.c)((function(e){return e.ui.openDropdown}));return Object(b.jsxs)("div",{className:"w-full pt-3",children:[Object(b.jsxs)("div",{className:"flex justify-between items-center",children:[Object(b.jsx)("h1",{className:"flex-grow font-bold pl-2",children:e.title}),Object(b.jsx)(de.a,{icon:oe.c})]}),t===e.type.name&&Object(b.jsx)("div",{className:"absolute bg-bg-floating rounded w-56 p-2 mt-5",children:e.children})]})},St=function e(){var t=Object(d.b)(),n=Object(d.c)((function(e){return e.ui.activeGuild})),c=ge();return n?Object(b.jsxs)(It,{title:n.name,type:e,children:[c.can("CREATE_INVITE",n.id)&&Object(b.jsxs)("a",{className:"rounded-sm flex items-center justify-between text-sm p-2 h-8 mb-1",onClick:function(){return t(v.openedModal("CreateInvite"))},children:[Object(b.jsx)("span",{className:"primary",children:"Invite people"}),Object(b.jsx)(de.a,{className:"float-right w-1",icon:oe.r})]}),c.can("MANAGE_CHANNELS",n.id)&&Object(b.jsxs)("a",{className:"rounded-sm flex items-center justify-between p-2 h-8 text-sm mb-1",onClick:function(){return t(v.openedModal("CreateChannel"))},children:[Object(b.jsx)("span",{className:"font",children:"Create channel"}),Object(b.jsx)(de.a,{className:"float-right w-1",icon:oe.m})]}),c.can("MANAGE_GUILD",n.id)&&Object(b.jsxs)("a",{onClick:function(){return t(v.openedModal("GuildSettings"))},className:"rounded-sm flex items-center justify-between p-2 h-8 text-sm",children:[Object(b.jsx)("span",{className:"font",children:"Guild settings"}),Object(b.jsx)(de.a,{className:"float-right w-1",icon:oe.d})]})]}):null},Ct=function(e){var t=e.channel,n=Object(d.b)(),c=Object(o.i)().guildId,a=ge(),s=Object(d.c)((function(e){return e.config.devMode}));return c?Object(b.jsxs)(ae.a,{id:t.id,className:"bg-bg-tertiary rounded shadow w-52 p-2",children:[a.can("MANAGE_CHANNELS",c)&&Object(b.jsx)(ae.c,{className:"danger cursor-pointer",onClick:function(){return n(function(e,t){return function(n){n(w.wsCallBegan({event:"CHANNEL_DELETE",data:{guildId:e,channelId:t}}))}}(c,t.id))},children:Object(b.jsx)("span",{children:"Delete channel"})}),s&&Object(b.jsx)(ue,{ids:[{title:"Channel ID",id:t.id}]})]},t.id):null},At=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.ui})),n=t.activeGuild,c=t.activeChannel,a=Object(d.c)(H(null===n||void 0===n?void 0:n.id)),s=ge(),i=a.map((function(e){return Object(b.jsxs)(ae.b,{id:e.id,children:[Object(b.jsxs)(l.b,{to:"/channels/".concat(n.id,"/").concat(e.id),className:"\n          cursor-pointer flex items-center rounded h-8 p-2 pl-3\n          ".concat(e.id===(null===c||void 0===c?void 0:c.id)&&"active"),children:[Object(b.jsx)(de.a,{className:"float-left mr-2 scale-150 muted fill-current",icon:oe.i}),Object(b.jsx)("span",{children:e.name})]}),Object(b.jsx)(Ct,{channel:e})]},e.id)}));return Object(b.jsxs)("div",{className:"flex flex-col bg-bg-secondary w-60",children:[Object(b.jsx)("div",{className:"items-center shadow-elevation cursor-pointer h-12 pl-2.5 pr-4",onClick:function(){return e(v.toggleDropdown(St))},children:Object(b.jsx)(St,{})}),Object(b.jsx)("nav",{className:"flex-grow px-2 pt-4",children:n&&s.can("VIEW_CHANNELS",n.id)&&i}),Object(b.jsx)(wt,{})]})},Mt=(n(216),function(e){var t=e.to,n=e.imageURL,c=e.name,a=e.classes,s=void 0===a?"font":a,i=Object(o.h)();n&&(n="".concat("https://api.accord.app/assets").concat(n));var r=function(e){return e.split(" ").map((function(e){return e[0]})).join("").slice(0,3)},l=function(){return n?Object(b.jsx)("img",{className:"h-12 w-12",src:n,alt:c,"data-v-8f3d046e":""}):Object(b.jsx)("span",{className:"select-none flex items-center justify-center h-12 w-12","data-v-8f3d046e":"",children:r(c)})},d=t&&i.pathname.startsWith(t),u=d?"rounded-xl bg-primary":"rounded-full bg-bg-primary";return Object(b.jsxs)("div",{className:"wrapper ".concat(d&&"active"),"data-v-8f3d046e":"",children:[Object(b.jsx)("div",{className:"selected rounded bg-white absolute -left-1 h-0 w-2","data-v-8f3d046e":""}),Object(b.jsx)("div",{className:"cursor-pointer guild-icon flex justify-center mb-2 ".concat(u," ").concat(s),"data-v-8f3d046e":"",children:Object(b.jsx)(l,{"data-v-8f3d046e":""})})]})}),kt=function(e){var t=e.guild,n=Object(d.b)(),c=Object(d.c)((function(e){return e.config.devMode}));return Object(b.jsxs)(ae.a,{id:t.id,className:"bg-bg-tertiary rounded shadow w-48 p-2",children:[Object(b.jsxs)(ae.c,{className:"flex items-center justify-between danger cursor-pointer",onClick:function(){return n((e=t.id,function(t,n){var c=n().auth.user;t(w.wsCallBegan({event:"GUILD_MEMBER_REMOVE",data:{guildId:e,userId:c.id}}))}));var e},children:[Object(b.jsx)("span",{children:"Leave Guild"}),Object(b.jsx)(de.a,{icon:oe.f})]}),c&&Object(b.jsx)(ue,{ids:[{title:"Guild ID",id:t.id}]})]},t.id)},Tt=function(){var e=Object(d.b)(),t=Object(d.c)((function(e){return e.auth.user})),n=Object(d.c)((function(e){return e.entities.guilds})).map((function(e){return Object(b.jsxs)(ae.b,{id:e.id,children:[Object(b.jsx)(l.b,{to:"/channels/".concat(e.id),children:Object(b.jsx)(Mt,{to:"/channels/".concat(e.id),imageURL:e.iconURL,name:e.name})}),Object(b.jsx)(kt,{guild:e})]},e.id)})),c=function(){return Object(b.jsx)("div",{onClick:function(){return e(v.openedModal("CreateGuild"))},className:"success text-3xl",children:Object(b.jsx)(Mt,{name:"+",classes:"success"})})};return Object(b.jsxs)("div",{className:"overflow-auto min-h-screen float-left p-3 flex flex-col bg-bg-tertiary",children:[Object(b.jsx)(l.b,{to:"/channels/@me",children:Object(b.jsx)(Mt,{to:"/channels/@me",imageURL:t.avatarURL,name:t.username})}),Object(b.jsx)("div",{className:"flex justify-center mb-1",children:Object(b.jsx)("div",{className:"h-0.5 w-8 rounded-sm bg-bg-modifier-accent mb-1"})}),n,Object(b.jsx)(c,{})]})},Dt=function(e){return Object(b.jsxs)("div",{className:"sidebar flex float-left",children:[Object(b.jsx)(Tt,{}),Object(b.jsx)(At,{})]})},_t=n(44),Gt=(n(217),n(162)),Lt=function(e){var t,n,c=Object(d.d)(),s=Object(d.b)(),i=Object(a.useState)(null!==(t=e.content)&&void 0!==t?t:""),r=Object(ee.a)(i,2),o=r[0],j=r[1],f=Object(d.c)((function(e){return e.ui.activeChannel})),m=Object(d.c)((function(e){return e.ui.activeGuild})),O=Object(d.c)((n=f.id,Object(h.a)((function(e){return e.entities.typing}),(function(e){return e.filter((function(e){return e.channelId===n}))})))),x=ge(),g=function(){var t,n;e.editingMessageId?s((t=e.editingMessageId,n={content:o},function(e){e(w.wsCallBegan({event:"MESSAGE_UPDATE",data:Object(u.a)({messageId:t},n)}))})):s(function(e,t){return function(n){n(w.wsCallBegan({event:"MESSAGE_CREATE",data:Object(u.a)(Object(u.a)({},t),{},{channelId:e})}))}}(f.id,{content:o})),j(""),p()},p=function(){return s(v.stoppedEditingMessage())},N=function(t){"Escape"===t.key&&e.editingMessageId&&p()},y=x.can("SEND_MESSAGES",m.id);return Object(b.jsxs)("div",{className:"".concat(e.editingMessageId?"mt-2":"px-4"),children:[Object(b.jsx)(Gt.a,{onChange:function(e){return j(e.target.value)},onKeyDown:function(e){N(e),s(function(e){return function(t,n){var c=at()(new Date).diff(Xe,"seconds");Xe&&c<5||(Xe=new Date,t(w.wsCallBegan({event:"TYPING_START",data:{channelId:e}})))}}(f.id)),"Enter"!==e.key||e.shiftKey||e.preventDefault();var t=o.replaceAll("\n","");"Enter"===e.key&&!e.shiftKey&&t&&g()},value:o,rows:1,placeholder:y?e.editingMessageId?void 0:"Message #".concat(f.name):"Insufficient perms.",className:"resize-none normal appearance-none rounded-lg leading-tight focus:outline-none w-full right-5 left-5 max-h-96 py-3 px-4 ".concat(!y&&"cursor-not-allowed"),disabled:!y,autoFocus:!0}),e.editingMessageId?Object(b.jsxs)("span",{className:"text-xs py-2",children:["escape to ",Object(b.jsx)(l.b,{to:"#",onClick:p,children:"cancel"})," \u2022 enter to ",Object(b.jsx)(l.b,{to:"#",onClick:g,children:" save"})]}):Object(b.jsx)("div",{className:"text-sm w-full h-6",children:function(){if(O.length){var e=O.map((function(e){return(t=e.userId,Be(t)(c.getState())).username;var t})).join(", ");return O.length>3?"Many users are typing...":"".concat(e," is typing...")}}()})]})},Rt=function(e){var t=e.message,n=Object(d.b)(),c=Object(d.c)((function(e){return e.auth.user})),a=Object(d.c)((function(e){return e.ui.activeGuild})),s=Object(d.c)((function(e){return e.ui.openModal})),i=ge(),r=t.authorId===c.id,l=i.can("MANAGE_MESSAGES",a.id)||(null===a||void 0===a?void 0:a.ownerId)===c.id||r;return s?null:Object(b.jsxs)("div",{className:"float-right shadow bg-bg-secondary px-2 rounded cursor-pointer",children:[r&&Object(b.jsx)("div",{className:"inline",children:Object(b.jsx)(de.a,{onClick:function(){return n(v.startedEditingMessage(t.id))},className:"mr-2",icon:oe.l})}),l&&Object(b.jsx)("div",{className:"inline",children:Object(b.jsx)(de.a,{onClick:function(){return n((e=t.id,function(t){t(w.wsCallBegan({event:"MESSAGE_DELETE",data:{messageId:e}}))}));var e},className:"danger",icon:oe.o})})]})},Ut=function(e){var t=e.message,n=Object(o.i)().guildId,c=Object(d.c)((function(e){return e.config.devMode}));return n?Object(b.jsxs)(ae.a,{id:t.id,className:"bg-bg-tertiary rounded shadow w-48 p-2",children:[Object(b.jsx)("div",{className:"overflow-hidden",children:Object(b.jsx)("span",{className:"bg-bg-primary p-1 rounded max-w-full",children:t.content})}),c&&Object(b.jsx)(ue,{ids:[{title:"Message ID",id:t.id}]})]},t.id):null},Bt=function(e){var t=e.message,n=Object(d.c)((function(e){return e.ui.activeGuild})),c=Object(d.c)(Y(n.id)),a=Object(d.c)(le(n.id,c.userId)),s=Object(d.c)(Be(t.authorId)),i=Object(d.c)(dt(t.channelId)),r=Object(d.c)((function(e){return e.ui.editingMessageId})),l=new Date(t.createdAt),o=function(){var e=i.findIndex((function(e){return e.id===t.id})),n=i[e-1];if(!n)return!1;return at()(l).diff(n.createdAt,"minutes")<=5&&n.authorId===t.authorId}(),u=function(){var e;if(o)return null;var t=at()(function(){var e=new Date;return e.setHours(0),e.setMinutes(0),e.setSeconds(0),e}()).diff(l.setHours(0),"days"),n=(e={},Object(_t.a)(e,1,"Yesterday"),Object(_t.a)(e,0,"Today"),Object(_t.a)(e,-1,"Tomorrow"),e)[t],c=n?"[".concat(n,"] [at] HH:mm"):"DD/MM/YYYY";return Object(b.jsxs)("div",{"data-v-e4da8a31":"",children:[Object(b.jsx)(ae.b,{id:s.id,"data-v-e4da8a31":"",children:Object(b.jsx)("span",{style:{color:a.color},className:"text-base heading hover:underline cursor-pointer mr-2","data-v-e4da8a31":"",children:s.username})}),Object(b.jsx)("span",{className:"text-xs","data-v-e4da8a31":"",children:at()(l).format(c)})]})},j=function(){return r===t.id?Object(b.jsx)(Lt,{content:t.content,editingMessageId:t.id,"data-v-e4da8a31":""}):Object(b.jsx)("div",{className:"relative","data-v-e4da8a31":"",children:Object(b.jsxs)("div",{className:"normal whitespace-pre-wrap","data-v-e4da8a31":"",children:[t.content,t.updatedAt&&Object(b.jsx)("span",{className:"select-none muted edited text-xs ml-1","data-v-e4da8a31":"",children:"(edited)"})]})})};return Object(b.jsxs)(ae.b,{id:t.id,"data-v-e4da8a31":"",children:[Object(b.jsxs)("div",{className:"message flex ".concat(!o&&"mt-4"),"data-v-e4da8a31":"",children:[Object(b.jsx)("div",{className:"flex-shrink-0 left-side text-xs w-16 mr-2 pl-5 pt-1","data-v-e4da8a31":"",children:o?Object(b.jsx)("span",{className:"timestamp text-xs","data-v-e4da8a31":"",children:at()(l).format("HH:mm")}):Object(b.jsx)("img",{className:"rounded-full cursor-pointer w-10 h-10",src:"".concat("https://api.accord.app/assets").concat(s.avatarURL),alt:s.username,"data-v-e4da8a31":""})}),Object(b.jsxs)("div",{className:"relative flex-grow px-2","data-v-e4da8a31":"",children:[Object(b.jsx)("div",{className:"absolute toolbar right-0 -mt-3 z-10","data-v-e4da8a31":"",children:Object(b.jsx)(Rt,{message:t,"data-v-e4da8a31":""})}),Object(b.jsx)(u,{"data-v-e4da8a31":""}),Object(b.jsx)(j,{"data-v-e4da8a31":""})]}),Object(b.jsx)("div",{className:"right-side w-12","data-v-e4da8a31":""})]}),Object(b.jsx)(Ut,{message:t,"data-v-e4da8a31":""})]},t.id)},Pt=function(e){var t=e.canRead,n=Object(d.c)((function(e){return e.ui.activeChannel}));return Object(b.jsxs)("div",{className:"m-4 pb-6 border-bottom",children:[Object(b.jsx)("span",{className:"rounded-full",children:Object(b.jsx)(de.a,{className:"muted",icon:t?oe.i:oe.g,size:"3x"})}),Object(b.jsx)("h1",{className:"text-3xl font-bold my-2",children:t?"Welcome to #".concat(n.name,"!"):"Message history hidden."}),Object(b.jsx)("p",{className:"lead",children:t?"This is the start of the #".concat(n.name," channel."):"Insufficient permissions to view messages in this channel."})]})},Vt=function(){return Object(b.jsx)("div",{className:"rounded-md px-5 py-2 max-w-sm w-full",children:Object(b.jsxs)("div",{className:"animate-pulse flex space-x-4",children:[Object(b.jsx)("div",{className:"rounded-full bg-bg-tertiary h-10 w-10"}),Object(b.jsxs)("div",{className:"flex-1 space-y-4 py-1",children:[Object(b.jsx)("div",{className:"h-4 bg-bg-tertiary rounded w-3/4"}),Object(b.jsxs)("div",{className:"space-y-2",children:[Object(b.jsx)("div",{className:"h-4 bg-bg-tertiary rounded"}),Object(b.jsx)("div",{className:"h-4 bg-bg-tertiary rounded w-5/6"})]})]})]})})},Ht=function(){var e,t=Object(d.b)(),n=Object(d.c)((function(e){return e.ui.activeChannel})),c=Object(d.c)((function(e){return e.ui.activeGuild})),s=Object(d.c)(dt(n.id)),i=ge();Object(a.useEffect)((function(){var e;t((e=n.id,function(t,n){n().entities.messages.list.some((function(t){return t.channelId===e}))||t(w.restCallBegan({onSuccess:[ut.fetched.type],url:"/channels/".concat(e,"/messages?back=100"),headers:_e()}))}));var c=document.querySelector("#messages");c.scrollTop=c.scrollHeight}),[s.length]);var r=n.lastMessageId===(null===(e=s[s.length])||void 0===e?void 0:e.id),l=i.can("READ_MESSAGES",c.id);return Object(b.jsxs)("div",{className:"h-full flex flex-col flex-grow",children:[Object(b.jsxs)("div",{id:"messages",className:"overflow-auto mb-5 mr-1 mt-1 flex-grow",children:[Object(b.jsx)(Pt,{canRead:l}),!(l||r)&&new Array(6).fill(Object(b.jsx)(Vt,{})),l&&s.map((function(e){return Object(b.jsx)(Bt,{message:e},e.id)}))]}),Object(b.jsx)(Lt,{})]})},Ft=n(161),Wt=function(e){var t=e.member,n=function(e){return e.slice(1)},c=n(t.roleIds),s=Object(d.b)(),i=Object(d.c)((function(e){return e.ui.activeGuild})),r=n(Object(d.c)(F(i.id))),l=Object(a.useState)(c),o=Object(ee.a)(l,2),j=o[0],f=o[1],m={control:function(){return{width:"200px",backgroundColor:"var(--bg-secondary)"}},option:function(e,t){var n=t.data;return Object(u.a)(Object(u.a)({},e),{},{color:n.color,backgroundColor:"var(--bg-secondary)",cursor:"pointer"})},input:function(e){return Object(u.a)(Object(u.a)({},e),{},{color:"var(--font)"})},menu:function(e){return Object(u.a)(Object(u.a)({},e),{},{backgroundColor:"var(--bg-secondary)"})},multiValue:function(e){return Object(u.a)(Object(u.a)({},e),{},{color:"var(--font)",backgroundColor:"var(--bg-tertiary)"})},indicatorSeparator:function(){return{display:"none"}},indicatorsContainer:function(e){return Object(u.a)(Object(u.a)({},e),{},{marginBottom:"-7.5px",float:"right"})},multiValueLabel:function(e,t){var n=t.data;return Object(u.a)(Object(u.a)({},e),{},{color:n.color,backgroundColor:"var(--bg-tertiary)"})}},h=JSON.stringify(j)!==JSON.stringify(c),O=function(e){return{label:e.name,value:e.id,color:e.color}};return Object(b.jsx)("div",{onClick:function(e){return e.preventDefault()},children:Object(b.jsx)(Ft.a,{defaultValue:j.map((function(e){var t=r.find((function(t){return t.id===e}));return t?O(t):void 0})),name:"colors",options:r.map(O),onChange:function(e){return f(e.map((function(e){return e.value})))},onMenuClose:function(){return h&&s((e=t.id,n={roleIds:j},function(t){t(w.wsCallBegan({event:"GUILD_MEMBER_UPDATE",data:Object(u.a)({memberId:e},n)}))}));var e,n},styles:m,placeholder:"Add roles...",noOptionsMessage:function(){return"No roles to add"},isMulti:!0})})},zt=function(e){var t,n=e.user,c=Object(d.b)(),a=ge(),s=Object(d.c)((function(e){return e.auth.user})),i=Object(d.c)((function(e){return e.ui.activeGuild})),r=Object(d.c)(J(i.id,n.id)),l=Object(d.c)((function(e){return e.config.devMode})),o=n.id===s.id,u=null===(t=s.ignored)||void 0===t?void 0:t.userIds.includes(r.userId);return Object(b.jsxs)(ae.a,{id:n.id,className:"bg-bg-tertiary p-2 rounded shadow",children:[Object(b.jsxs)(ae.c,{onClick:function(){c(v.focusedUser(n)),c(v.openedModal("UserProfile"))},className:"flex items-center justify-between cursor-pointer",children:[Object(b.jsx)("span",{children:"View Profile"}),Object(b.jsx)(de.a,{icon:oe.p})]}),n.id!==s.id&&Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("hr",{className:"my-2 border-bg-primary"}),Object(b.jsxs)(ae.c,{className:"flex items-center justify-between  cursor-pointer danger",children:[Object(b.jsx)("span",{onClick:function(){return c((e=r.userId,function(t,n){var c;console.log("hi");var a=n().auth.user,s=JSON.parse(JSON.stringify(a.ignored));if(s.userIds=null!==(c=s.userIds)&&void 0!==c?c:[],s.userIds.includes(e)){var i=s.userIds.indexOf(e);s.userIds.splice(i,1)}else s.userIds.push(e);t(w.wsCallBegan({event:"USER_UPDATE",data:{token:Ge(),ignored:s}}))}));var e},children:u?"Unblock":"Block"}),Object(b.jsx)(de.a,{icon:oe.a})]})]}),Object(b.jsx)("hr",{className:"my-2 border-bg-primary"}),!o&&a.can("KICK_MEMBERS",i.id)&&Object(b.jsx)(ae.c,{className:"danger cursor-pointer mb-2",onClick:function(){return c((e=i.id,t=n.id,function(n){n(w.wsCallBegan({event:"GUILD_MEMBER_REMOVE",data:{guildId:e,userId:t}}))}));var e,t},children:Object(b.jsxs)("span",{children:["Kick ",n.username]})}),a.can("MANAGE_ROLES",i.id)&&Object(b.jsx)(Wt,{member:r}),Object(b.jsx)("div",{className:"mb-10"}),l&&Object(b.jsx)(ue,{ids:[{title:"User ID",id:n.id},{title:"Member ID",id:r.id}]})]})},Kt=function(){var e,t=ge(),n=Object(d.c)((function(e){return e.ui.activeGuild})),c=Object(d.c)((function(e){return e.config.memberListToggled})),a=Object(d.c)((e=n.id,Object(h.a)((function(e){return e.entities.roles}),(function(t){return t.filter((function(t){return t.guildId===e&&t.hoisted}))})))),s=Object(d.c)(function(e){return Object(h.a)((function(e){return e.entities.members}),(function(t){return t.filter((function(t){return t.guildId===e}))}))}(n.id)),i=Object(d.c)(function(e){return Object(h.a)((function(e){return{members:e.entities.members,users:e.entities.users}}),(function(t){var n=t.members,c=t.users;return n.filter((function(t){return t.guildId===e})).map((function(e){return c.find((function(t){return t.id===e.userId}))}))}))}(n.id)).filter((function(e){var c=s.find((function(t){return t.userId===e.id}));return t.canMember("VIEW_CHANNELS",n,c)})),r=function(e){var t=e.category,c=e.filter,a=i.filter(c);return a.length?Object(b.jsxs)("div",{children:[Object(b.jsx)(te,{className:"pt-6 pr-2 pl-4 h-10 mb-2 ml-2",title:t,count:a.length}),a.map((function(e){return Object(b.jsxs)(ae.b,{id:e.id,children:[Object(b.jsx)("div",{className:"m-2",children:Object(b.jsx)(Se,{guild:n,user:e})}),Object(b.jsx)(zt,{user:e})]},e.id)}))]}):null},l=function(e){return s.find((function(t){return t.userId===e})).roleIds},o=function(e){return l(e.id).some((function(e){return a.some((function(t){return e===t.id}))}))};return c?Object(b.jsxs)("div",{className:"bg-bg-secondary w-64",children:[a.map((function(e){return Object(b.jsx)(r,{category:e.name,filter:function(t){return l(t.id).includes(e.id)&&o(t)&&"ONLINE"===t.status}},e.id)})),Object(b.jsx)(r,{category:"Online",filter:function(e){return"ONLINE"===e.status&&!o(e)}}),Object(b.jsx)(r,{category:"Offline",filter:function(e){return"OFFLINE"===e.status}})]}):null},Jt=function(){var e,t,n=Object(o.i)(),c=n.channelId,s=n.guildId,i=Object(d.b)(),r=Object(d.c)((function(e){return e.ui})),l=Object(d.c)(V(s)),u=Object(d.c)((t=c,Object(h.a)((function(e){return e.entities.channels}),(function(e){return e.find((function(e){return e.id===t}))})))),j=Object(d.c)(H(s));if(Object(a.useEffect)((function(){i(v.pageSwitched({channel:u,guild:l}))}),[l,u]),!l)return Object(b.jsx)(o.a,{to:"/channels/@me"});if(j.length&&!c){var f=j[0];return Object(b.jsx)(o.a,{to:"/channels/".concat(l.id,"/").concat(f.id)})}return r.activeGuild?Object(b.jsxs)(vt,{pageTitle:null!==(e=null===u||void 0===u?void 0:u.name)&&void 0!==e?e:l.name,children:[Object(b.jsx)(Dt,{}),u?Object(b.jsxs)("div",{className:"bg-bg-primary",children:[Object(b.jsx)(Et,{}),Object(b.jsxs)("div",{style:{height:"calc(100vh - 48px)"},className:"flex",children:[r.activeChannel&&Object(b.jsx)(Ht,{}),Object(b.jsx)(Kt,{})]})]}):Object(b.jsx)("div",{className:"bg-bg-tertiary"})]}):null},Yt=(n(228),n(58)),qt=n.n(Yt),Zt=function(){var e=Object(d.b)(),t=Object(y.a)(),n=t.register,c=t.handleSubmit,a=t.getValues,s=Object(d.c)((function(e){return e.auth.user})),i=Object(T.b)().enqueueSnackbar,r=Object(d.c)((function(e){return e.auth.shouldVerify})),u=function(){var t=Object(y.a)();return Object(b.jsxs)("div",{"data-v-104c06bf":"",children:[Object(b.jsx)("hr",{className:"border-gray-500 my-4","data-v-104c06bf":""}),Object(b.jsxs)("div",{className:"flex items-end","data-v-104c06bf":"",children:[Object(b.jsx)(k,{type:"text",name:"code",label:"Verify Code",className:"w-full mr-2",register:t.register,"data-v-104c06bf":""}),Object(b.jsx)(M,{type:"button",onClick:function(){return e(Ke(t.getValues().code))},className:"bg-success text-black h-10","data-v-104c06bf":"",children:"Verify"})]})]})};return s?Object(b.jsx)(o.a,{to:"/channels/@me","data-v-104c06bf":""}):Object(b.jsxs)(vt,{pageTitle:"accord.app | Login","data-v-104c06bf":"",children:[Object(b.jsx)("div",{className:"flex items-center absolute justify-center h-screen","data-v-104c06bf":"",children:Object(b.jsxs)("form",{className:"rounded-md shadow bg-bg-primary p-8",onSubmit:c((function(t){return e(function(e){return function(t){t(w.restCallBegan({onSuccess:[He.shouldVerify.type],method:"post",data:e,url:"/auth/login",callback:function(e){return alert(e.message)}}))}}(t))})),"data-v-104c06bf":"",children:[Object(b.jsx)("h1",{className:"text-3xl font-bold","data-v-104c06bf":"",children:"Welcome back!"}),Object(b.jsx)("p",{className:"lead","data-v-104c06bf":"",children:"We're so excited to see you again!"}),Object(b.jsx)(k,{label:"Email",name:"email",register:n,className:"mt-3","data-v-104c06bf":""}),Object(b.jsx)(k,{label:"Password",name:"password",type:"password",register:n,className:"mt-3","data-v-104c06bf":""}),Object(b.jsx)(l.b,{to:"#",onClick:function(){var t;e((t=a().email,function(e){t&&e(w.restCallBegan({onSuccess:[],url:"/auth/email/forgot-password?email=".concat(t)}))})),i("Reset password instructions sent to email.",{anchorOrigin:{vertical:"bottom",horizontal:"left"},key:"saveChanges",variant:"info"})},"data-v-104c06bf":"",children:"Forgot your password?"}),r&&Object(b.jsx)(u,{"data-v-104c06bf":""}),Object(b.jsx)(M,{className:"w-full h-11 rounded-md mt-8","data-v-104c06bf":"",children:"Login"}),Object(b.jsxs)("p",{className:"mt-2","data-v-104c06bf":"",children:["Need an account? ",Object(b.jsx)(l.b,{to:"/register","data-v-104c06bf":"",children:"Register"})]})]})}),Object(b.jsx)(qt.a,{width:"100%",height:"100%","data-v-104c06bf":""})]})},Qt=(n(540),function(){var e=Object(d.c)((function(e){return e.auth.user})),t=Object(d.b)(),n=Object(y.a)(),c=n.register,a=n.handleSubmit;return e?Object(b.jsx)(o.a,{to:"/channels/@me","data-v-b1ae46d3":""}):Object(b.jsxs)(vt,{"data-v-b1ae46d3":"",children:[Object(b.jsx)("div",{className:"flex items-center justify-center absolute h-screen","data-v-b1ae46d3":"",children:Object(b.jsxs)("form",{className:"rounded-md shadow bg-bg-primary p-8",onSubmit:a((function(e){return t(function(e){return function(t){t(w.restCallBegan({onSuccess:[He.loggedIn.type],method:"post",data:e,url:"/auth/register",callback:function(e){localStorage.setItem("token",e),t(We())}}))}}(e))})),"data-v-b1ae46d3":"",children:[Object(b.jsx)("h1",{className:"text-2xl font-bold mb-8 text-center","data-v-b1ae46d3":"",children:"Create an account"}),Object(b.jsx)(k,{label:"Email",name:"email",register:c,className:"mt-3","data-v-b1ae46d3":""}),Object(b.jsx)(k,{label:"Username",name:"username",register:c,className:"mt-3","data-v-b1ae46d3":""}),Object(b.jsx)(k,{label:"Password",name:"password",type:"password",register:c,className:"mt-3","data-v-b1ae46d3":""}),Object(b.jsx)(M,{className:"w-full h-11 rounded-md mt-8","data-v-b1ae46d3":"",children:"Register"}),Object(b.jsx)("p",{className:"mt-2","data-v-b1ae46d3":"",children:Object(b.jsx)(l.b,{to:"/login","data-v-b1ae46d3":"",children:"Already have an account?"})})]})}),Object(b.jsx)(qt.a,{width:"100%",height:"100%","data-v-b1ae46d3":""})]})}),Xt=function(){var e=Object(d.b)();return Object(a.useEffect)((function(){e(v.pageSwitched({channel:null,guild:null}))}),[]),Object(b.jsxs)(vt,{className:"bg-bg-primary h-full w-full",pageTitle:"accord.app",children:[Object(b.jsx)(Dt,{}),Object(b.jsx)(Et,{}),Object(b.jsx)("div",{className:"bg-bg-primary h-full w-full flex flex-col flex-grow"})]})},$t=function(){return Object(d.b)()(ze()),Object(b.jsx)(o.a,{to:"/",push:!0})},en=function(){return function(e){e(w.restCallBegan({onSuccess:[],headers:_e(),url:"/users/entities",callback:function(t){e(C.fetched(t.channels)),e(B.fetched(t.guilds)),e(z.fetched(t.members)),e(ie.fetched(t.roles)),e(Re.fetched(t.users)),e(tt.fetchedEntities())}}))}},tn=function(){var e=Object(d.b)();Object(a.useEffect)((function(){e(We()),e(en())}),[]);var t=["Did Discord steal our idea?!?!","ADAMJR, Stop refactoring code please. okthxbye.","Sample Text.","!('Hello World')","May work on a Tesla","Please subscribe.","Hi YouTube!","accord.includes('VOICE_CHANNEL') === false","This message is officially dumb.","This message is funny.","Dear Bill Gates please buy my app okthxbye.","Is coding the same as programming? :thinking:","TypeError: There may be bugs.","What is a Discord? :thinking:","What's your Skype? Wait, actually I don't want your IP. Cya.","Started in 2020.","Disclaimer: Not actually a Discord clone."],n=Math.floor(Math.random()*t.length);return Object(b.jsx)(vt,{pageTitle:"Loading...",className:"flex items-center justify-center h-screen",children:Object(b.jsxs)("div",{className:"text-center",children:[Object(b.jsx)("h1",{className:"text-3xl",children:"Loading..."}),Object(b.jsx)("p",{className:"lead block",children:t[n]})]})})},nn=function(e){var t=Object(d.c)((function(e){return e.auth.user})),n=Object(d.c)((function(e){return e.meta.fetchedEntities}));return Object(d.c)((function(e){return e.auth.attemptedLogin}))&&!t?Object(b.jsx)(o.a,{to:"/login"}):t&&n?Object(b.jsx)(o.b,Object(u.a)({},e)):Object(b.jsx)(tn,{})},cn=function(){return Object(b.jsxs)(vt,{className:"relative w-screen h-screen",pageTitle:"accord.app | Not Found",children:[Object(b.jsxs)("header",{className:"absolute text-center bottom-1/2 right-1/2",children:[Object(b.jsx)("h1",{className:"text-4xl pb-3",children:"Not Found"}),Object(b.jsx)(l.b,{to:"/",children:Object(b.jsx)(j,{children:"Return Home"})})]}),Object(b.jsx)(qt.a,{width:"100%",height:"100%"})]})},an=function(){var e,t=Object(d.b)(),n=null===(e=new URLSearchParams(Object(o.h)().search).get("code"))||void 0===e?void 0:e.toString();return Object(a.useEffect)((function(){n&&t(Ke(n))}),[]),n?Object(b.jsx)(tn,{}):Object(b.jsx)(o.a,{to:"/"})};function sn(){var e=Object(d.b)();return Object(a.useEffect)((function(){e(We()),e(en()),e((function(e,t){var n,c=t().auth.user,a=t().entities.channels,s={},i=Object(jt.a)(a);try{for(i.s();!(n=i.n()).done;){var r,l=n.value;c.lastReadMessageIds[l.id],s[l.id]=null!==(r=s[l.id])&&void 0!==r?r:[],s[l.id].push(l.id)}}catch(o){i.e(o)}finally{i.f()}e(mt.initialized(s))}))}),[]),Object(b.jsx)(l.a,{basename:"",children:Object(b.jsxs)(o.d,{children:[Object(b.jsx)(o.b,{exact:!0,path:"/",component:yt}),Object(b.jsx)(o.b,{exact:!0,path:"/login",component:Zt}),Object(b.jsx)(o.b,{exact:!0,path:"/register",component:Qt}),Object(b.jsx)(o.b,{exact:!0,path:"/logout",component:$t}),Object(b.jsx)(o.b,{exact:!0,path:"/verify",component:an}),Object(b.jsx)(nn,{exact:!0,path:"/channels/@me",component:Xt}),Object(b.jsx)(nn,{exact:!0,path:"/channels/:guildId/:channelId?",component:Jt}),Object(b.jsx)(o.b,{path:"*",component:cn})]})})}var rn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,577)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))},ln=n(40),on=n(12),dn=n.n(on),un=n(32),bn=n(160),jn=n.n(bn),fn=function(e){return function(t){return function(){var n=Object(un.a)(dn.a.mark((function n(c){var a,s,i,r,l,o,d,u,b,j,f,m,h,O,v;return dn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.type===w.restCallBegan.type){n.next=2;break}return n.abrupt("return",t(c));case 2:return a=c.payload,s=a.url,i=a.method,r=a.data,l=a.onSuccess,o=a.headers,d=a.callback,t(c),n.prev=4,n.next=7,jn.a.request({baseURL:"https://api.accord.app/v2",data:r,method:i,url:s,headers:o});case 7:if(u=n.sent,b=u.data,e.dispatch(w.restCallSucceded(b)),l){j=Object(jt.a)(l);try{for(j.s();!(f=j.n()).done;)m=f.value,e.dispatch({type:m,payload:b})}catch(x){j.e(x)}finally{j.f()}}d&&d(b),n.next=19;break;case 14:n.prev=14,n.t0=n.catch(4),v=n.t0.response,e.dispatch(w.restCallFailed(v)),e.dispatch(p({content:null!==(h=null===v||void 0===v||null===(O=v.data)||void 0===O?void 0:O.message)&&void 0!==h?h:"Unknown Error",variant:"error"}));case 19:case"end":return n.stop()}}),n,null,[[4,14]])})));return function(e){return n.apply(this,arguments)}}()}},mn=function(e){return function(t){return function(){var n=Object(un.a)(dn.a.mark((function n(c){var a,s,i,r,l,o;return dn.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c.type===w.wsCallBegan.type){n.next=2;break}return n.abrupt("return",t(c));case 2:a=c.payload,s=a.data,i=a.event,t(c),r=function(){$e.off(i,l),$e.off("error",o)},l=function(t){r(),e.dispatch(w.wsCallSucceded({event:i,payload:t}))},o=function(t){r(),e.dispatch(w.wsCallFailed({event:i,payload:t}))},$e.on(i,l),$e.on("error",o),$e.emit(i,s);case 10:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}};n(558);console.log(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_URL:"https://api.accord.app/v2",REACT_APP_CDN_URL:"https://api.accord.app/assets",REACT_APP_ROOT_API_URL:"https://api.accord.app"}).MODE),r.a.render(Object(b.jsx)(T.a,{maxSnack:1,children:Object(b.jsx)(d.a,{store:Object(m.a)({middleware:[].concat(Object(E.a)(Object(m.d)({serializableCheck:!1})),[mn,fn]),reducer:Object(ln.b)({auth:Fe,config:De,entities:Object(ln.b)({channels:A,invites:X,guilds:P,members:K,messages:bt,pings:ht,typing:lt,roles:re,users:Ue}),meta:nt,ui:x})}),children:Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(sn,{})})})}),document.getElementById("root")),rn()}},[[559,1,2]]]);
//# sourceMappingURL=main.c207c043.chunk.js.map